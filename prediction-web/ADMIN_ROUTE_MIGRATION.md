# Admin è·¯ç”±é·ç§»èªªæ˜

## ğŸ”„ è·¯ç”±è®Šæ›´

æ‰€æœ‰ admin è·¯ç”±å·²å¾ `/admin` é·ç§»åˆ° `/pgadmin2026`ã€‚

### èˆŠè·¯ç”±ï¼ˆå·²ç¦ç”¨ï¼‰â†’ æ–°è·¯ç”±

| èˆŠè·¯ç”± | æ–°è·¯ç”± | ç‹€æ…‹ |
|--------|--------|------|
| `/admin` | `/pgadmin2026` | âœ… å·²é·ç§» |
| `/admin/login` | `/pgadmin2026/login` | âœ… å·²é·ç§» |
| `/admin/markets` | `/pgadmin2026/markets` | âœ… å·²é·ç§» |
| `/admin/markets/[id]` | `/pgadmin2026/markets/[id]` | âœ… å·²é·ç§» |

---

## ğŸš« èˆŠè·¯ç”±è™•ç†

æ‰€æœ‰èˆŠçš„ `/admin/*` è·¯ç”±ç¾åœ¨æœƒ**è‡ªå‹•é‡å®šå‘**åˆ°å°æ‡‰çš„ `/pgadmin2026/*` è·¯ç”±ã€‚

### é‡å®šå‘æ©Ÿåˆ¶

1. **Layout å±¤ç´šé‡å®šå‘**
   - `src/app/(authenticated)/admin/layout.tsx`
   - è‡ªå‹•å°‡æ‰€æœ‰ `/admin/*` è·¯å¾‘è½‰æ›ç‚º `/pgadmin2026/*`

2. **é é¢å±¤ç´šé‡å®šå‘**
   - `/admin` â†’ `/pgadmin2026/login`
   - `/admin/markets` â†’ `/pgadmin2026/markets`
   - `/admin/markets/[id]` â†’ `/pgadmin2026/markets/[id]`

---

## âœ… è¨ªå•æ–¹å¼

### æ­£ç¢ºçš„è¨ªå•æ–¹å¼

**ç™»å…¥é é¢**ï¼š
```
http://localhost:3001/pgadmin2026/login
```

**ä¸»é **ï¼š
```
http://localhost:3001/pgadmin2026
```

**å¸‚å ´ç®¡ç†**ï¼š
```
http://localhost:3001/pgadmin2026/markets
```

### èˆŠè·¯ç”±ï¼ˆæœƒè‡ªå‹•é‡å®šå‘ï¼‰

å¦‚æœè¨ªå•èˆŠè·¯ç”±ï¼Œæœƒè‡ªå‹•é‡å®šå‘åˆ°æ–°è·¯ç”±ï¼š
- `/admin` â†’ `/pgadmin2026/login`
- `/admin/markets` â†’ `/pgadmin2026/markets`
- ç­‰ç­‰...

---

## ğŸ”’ å®‰å…¨ç‰¹æ€§

1. **èˆŠè·¯ç”±ä¸å¯ç›´æ¥è¨ªå•**
   - æ‰€æœ‰ `/admin/*` è·¯ç”±éƒ½æœƒç«‹å³é‡å®šå‘
   - ä¸æœƒé¡¯ç¤ºä»»ä½•å…§å®¹ï¼Œåªæœƒé‡å®šå‘

2. **å¯†ç¢¼ä¿è­·**
   - åªæœ‰ `/pgadmin2026/*` è·¯ç”±éœ€è¦å¯†ç¢¼é©—è­‰
   - èˆŠè·¯ç”±é‡å®šå‘å¾Œä¹Ÿéœ€è¦ç™»å…¥

3. **çµ±ä¸€å…¥å£**
   - æ‰€æœ‰ç®¡ç†åŠŸèƒ½éƒ½é€šé `/pgadmin2026/login` é€²å…¥

---

## ğŸ“ æŠ€è¡“å¯¦ç¾

### é‡å®šå‘ Layout

```typescript
// src/app/(authenticated)/admin/layout.tsx
export default function AdminRedirectLayout() {
  const router = useRouter();
  const pathname = usePathname();

  useEffect(() => {
    // å°‡æ‰€æœ‰ /admin è·¯ç”±é‡å®šå‘åˆ°å°æ‡‰çš„ /pgadmin2026 è·¯ç”±
    if (pathname) {
      const newPath = pathname.replace(/^\/admin/, "/pgadmin2026");
      if (newPath !== pathname) {
        router.replace(newPath);
      }
    }
  }, [router, pathname]);
}
```

### é‡å®šå‘é é¢

æ‰€æœ‰èˆŠçš„ admin é é¢éƒ½æ”¹ç‚ºé‡å®šå‘é é¢ï¼š
- é¡¯ç¤ºã€Œæ­£åœ¨é‡å®šå‘...ã€
- ä½¿ç”¨ `router.replace()` é€²è¡Œé‡å®šå‘ï¼ˆä¸æœƒåœ¨æ­·å²è¨˜éŒ„ä¸­ç•™ä¸‹èˆŠè·¯ç”±ï¼‰

---

## âš ï¸ æ³¨æ„äº‹é …

1. **æ›¸ç±¤æ›´æ–°**
   - å¦‚æœä¹‹å‰æœ‰ä¿å­˜ `/admin/*` çš„æ›¸ç±¤ï¼Œéœ€è¦æ›´æ–°ç‚º `/pgadmin2026/*`
   - èˆŠæ›¸ç±¤ä»ç„¶å¯ä»¥å·¥ä½œï¼ˆæœƒè‡ªå‹•é‡å®šå‘ï¼‰ï¼Œä½†å»ºè­°æ›´æ–°

2. **å…§éƒ¨éˆæ¥**
   - æ‰€æœ‰å…§éƒ¨éˆæ¥å·²æ›´æ–°ç‚º `/pgadmin2026/*`
   - ä¸æœƒå†æœ‰å° `/admin/*` çš„å¼•ç”¨

3. **API è·¯ç”±**
   - API è·¯ç”±ä¿æŒä¸è®Šï¼š`/api/admin/*`
   - é€™äº›æ˜¯å¾Œç«¯ APIï¼Œä¸éœ€è¦æ›´æ”¹

---

## ğŸ§ª æ¸¬è©¦

### æ¸¬è©¦é‡å®šå‘

1. **è¨ªå•èˆŠè·¯ç”±**ï¼š
   ```bash
   http://localhost:3001/admin
   ```
   æ‡‰è©²è‡ªå‹•é‡å®šå‘åˆ° `/pgadmin2026/login`

2. **è¨ªå•èˆŠå¸‚å ´è·¯ç”±**ï¼š
   ```bash
   http://localhost:3001/admin/markets
   ```
   æ‡‰è©²è‡ªå‹•é‡å®šå‘åˆ° `/pgadmin2026/markets`

3. **è¨ªå•èˆŠå¸‚å ´è©³æƒ…**ï¼š
   ```bash
   http://localhost:3001/admin/markets/[marketId]
   ```
   æ‡‰è©²è‡ªå‹•é‡å®šå‘åˆ° `/pgadmin2026/markets/[marketId]`

### é©—è­‰æ–°è·¯ç”±

1. **ç›´æ¥è¨ªå•æ–°è·¯ç”±**ï¼š
   ```bash
   http://localhost:3001/pgadmin2026/login
   ```
   æ‡‰è©²æ­£å¸¸é¡¯ç¤ºç™»å…¥é é¢

2. **ç™»å…¥å¾Œè¨ªå•**ï¼š
   ```bash
   http://localhost:3001/pgadmin2026
   ```
   æ‡‰è©²æ­£å¸¸é¡¯ç¤ºç®¡ç†å¾Œå°ä¸»é 

---

## ğŸ“‹ æ–‡ä»¶çµæ§‹

### èˆŠè·¯ç”±ï¼ˆé‡å®šå‘ç”¨ï¼‰

```
src/app/(authenticated)/admin/
â”œâ”€â”€ layout.tsx              # çµ±ä¸€é‡å®šå‘è™•ç†
â”œâ”€â”€ page.tsx                # é‡å®šå‘åˆ° /pgadmin2026/login
â””â”€â”€ markets/
    â”œâ”€â”€ page.tsx            # é‡å®šå‘åˆ° /pgadmin2026/markets
    â””â”€â”€ [marketId]/
        â””â”€â”€ page.tsx        # é‡å®šå‘åˆ° /pgadmin2026/markets/[id]
```

### æ–°è·¯ç”±ï¼ˆå¯¦éš›åŠŸèƒ½ï¼‰

```
src/app/(authenticated)/pgadmin2026/
â”œâ”€â”€ layout.tsx              # è·¯ç”±ä¿è­·
â”œâ”€â”€ login/
â”‚   â””â”€â”€ page.tsx           # ç™»å…¥é é¢
â”œâ”€â”€ page.tsx               # ä¸»é 
â””â”€â”€ markets/
    â”œâ”€â”€ page.tsx           # å¸‚å ´åˆ—è¡¨
    â””â”€â”€ [marketId]/
        â””â”€â”€ page.tsx       # å¸‚å ´è©³æƒ…
```

---

## ğŸ¯ ç¸½çµ

- âœ… æ‰€æœ‰ `/admin/*` è·¯ç”±å·²ç¦ç”¨
- âœ… æ‰€æœ‰åŠŸèƒ½å·²é·ç§»åˆ° `/pgadmin2026/*`
- âœ… èˆŠè·¯ç”±æœƒè‡ªå‹•é‡å®šå‘åˆ°æ–°è·¯ç”±
- âœ… å¯†ç¢¼ä¿è­·åƒ…æ‡‰ç”¨æ–¼æ–°è·¯ç”±
- âœ… æ‰€æœ‰å…§éƒ¨éˆæ¥å·²æ›´æ–°

**ç¾åœ¨åªèƒ½é€šé `/pgadmin2026` è¨ªå•ç®¡ç†å¾Œå°ï¼**
