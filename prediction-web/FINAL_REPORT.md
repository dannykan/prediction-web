# ğŸ“Š æœ€ç»ˆè¯Šæ–­æŠ¥å‘Š

## ğŸ” å®Œæ•´é—®é¢˜è¯Šæ–­

### å‘ç°çš„æ‰€æœ‰é—®é¢˜

1. âŒ **æ„å»ºè¾“å‡ºç›®å½•é”™è¯¯** â†’ âœ… å·²ä¿®å¤ï¼ˆ`.open-next`ï¼‰
2. âŒ **ç”Ÿäº§ç¯å¢ƒå˜é‡ä¸ºç©º** â†’ âœ… å·²ä¿®å¤ï¼ˆ`plain_text` ç±»å‹ï¼Œæœ‰å€¼ï¼‰
3. âŒ **`ad_hoc` éƒ¨ç½²ç¼ºå°‘ `_worker.js`** â†’ âœ… å·²ä¿®å¤ï¼ˆç¦ç”¨ GitHub Actionsï¼‰
4. âŒ **`clone_repo` é˜¶æ®µå¤±è´¥** â†’ âŒ **ä»ç„¶å­˜åœ¨**

### å½“å‰çŠ¶æ€

- âœ… æ‰€æœ‰é…ç½®å·²ä¿®å¤
- âŒ **`clone_repo` é˜¶æ®µæŒç»­å¤±è´¥**ï¼Œå¯¼è‡´æ‰€æœ‰ `github:push` éƒ¨ç½²å¡åœ¨ `idle` çŠ¶æ€
- âŒ æ‰€æœ‰ `ad_hoc` éƒ¨ç½²è¿”å› 404ï¼ˆç¼ºå°‘ `_worker.js`ï¼‰
- âœ… åªæœ‰ `c04ebc5d` æ­£å¸¸å·¥ä½œï¼ˆä½†å¯èƒ½ä¸æ˜¯æœ€æ–°ä»£ç ï¼‰

## ğŸ¯ æ ¹æœ¬åŸå› 

**`clone_repo` é˜¶æ®µå¤±è´¥çš„æ ¹æœ¬åŸå› **ï¼š
- Git å†å²ä¸­ä»ç„¶æœ‰ submodule å¼•ç”¨
- Cloudflare Pages åœ¨å…‹éš†æ—¶è‡ªåŠ¨å°è¯•å¤„ç† submodule
- å³ä½¿åˆ é™¤äº† `.gitmodules` æ–‡ä»¶ï¼ŒGit å†å²ä¸­çš„ submodule å¼•ç”¨ä»ç„¶å­˜åœ¨

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1: ä½¿ç”¨ `git filter-repo` æ¸…ç† Git å†å²ï¼ˆæœ€å½»åº•ï¼‰

```bash
# å®‰è£… git-filter-repo
pip install git-filter-repo

# æ¸…ç† Git å†å²ä¸­çš„ submodule å¼•ç”¨
cd prediction-web
git filter-repo --path prediction-app --invert-paths
git filter-repo --path prediction-backend --invert-paths
git filter-repo --path .gitmodules --invert-paths

# å¼ºåˆ¶æ¨é€ï¼ˆä¼šé‡å†™ Git å†å²ï¼‰
git push --force --all
```

### æ–¹æ¡ˆ 2: åœ¨ Cloudflare Dashboard ä¸­æ£€æŸ¥è¯¦ç»†é”™è¯¯

1. è®¿é—®ï¼šhttps://dash.cloudflare.com/3f788981872971344ab14a8fcafa5c8f/workers-and-pages/pages/predictiongod/deployments
2. æ‰¾åˆ°å¤±è´¥çš„ `github:push` éƒ¨ç½²
3. ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…
4. æŸ¥çœ‹ `clone_repo` é˜¶æ®µçš„è¯¦ç»†é”™è¯¯æ—¥å¿—
5. æ ¹æ®å…·ä½“é”™è¯¯ä¿¡æ¯é‡‡å–ç›¸åº”æªæ–½

### æ–¹æ¡ˆ 3: æš‚æ—¶ä½¿ç”¨æˆåŠŸçš„éƒ¨ç½²

å¦‚æœæ€¥éœ€æ¢å¤ç½‘ç«™ï¼š
1. å°† `c04ebc5d` æå‡ä¸ºç”Ÿäº§ç¯å¢ƒï¼ˆåœ¨ Cloudflare Dashboard ä¸­æ“ä½œï¼‰
2. ç„¶åæ…¢æ…¢è§£å†³ `clone_repo` é—®é¢˜

## ğŸ“‹ å·²å®Œæˆçš„ä¿®å¤

1. âœ… æ„å»ºè¾“å‡ºç›®å½•ï¼š`.open-next`
2. âœ… ç”Ÿäº§ç¯å¢ƒå˜é‡ï¼šå·²è®¾ç½®
3. âœ… GitHub Actions å·²ç¦ç”¨
4. âœ… `.gitmodules` æ–‡ä»¶å·²åˆ é™¤
5. âœ… è·¯å¾„æ’é™¤é…ç½®å·²æ·»åŠ 

## âš ï¸ ä»ç„¶å­˜åœ¨çš„é—®é¢˜

**`clone_repo` é˜¶æ®µæŒç»­å¤±è´¥**

è¿™æ˜¯å”¯ä¸€å‰©ä½™çš„é—®é¢˜ï¼Œéœ€è¦ï¼š
- æ¸…ç† Git å†å²ä¸­çš„ submodule å¼•ç”¨ï¼Œæˆ–
- åœ¨ Cloudflare Dashboard ä¸­æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Œæˆ–
- è”ç³» Cloudflare æ”¯æŒå¯»æ±‚å¸®åŠ©

## ğŸ¯ å»ºè®®

**ç«‹å³è¡ŒåŠ¨**ï¼š
1. åœ¨ Cloudflare Dashboard ä¸­æŸ¥çœ‹ `clone_repo` é˜¶æ®µçš„è¯¦ç»†é”™è¯¯æ—¥å¿—
2. æ ¹æ®é”™è¯¯ä¿¡æ¯å†³å®šä¸‹ä¸€æ­¥æ“ä½œ
3. å¦‚æœéœ€è¦ï¼Œä½¿ç”¨ `git filter-repo` æ¸…ç† Git å†å²

**é•¿æœŸæ–¹æ¡ˆ**ï¼š
- ç¡®ä¿ Git å†å²ä¸­æ²¡æœ‰ä»»ä½• submodule å¼•ç”¨
- åªä½¿ç”¨ Cloudflare Pages Git é›†æˆ
- ä¸å†ä½¿ç”¨ `ad_hoc` éƒ¨ç½²
