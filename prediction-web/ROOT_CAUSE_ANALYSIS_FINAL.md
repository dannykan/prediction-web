# ğŸ” æ ¹æœ¬åŸå› åˆ†æ - æœ€ç»ˆç‰ˆæœ¬

## é—®é¢˜æ€»ç»“

GitHub Actions éƒ¨ç½²æˆåŠŸï¼Œä½†è®¿é—®æ—¶è¿”å› 404ã€‚

## æ ¹æœ¬åŸå› 

### 1. **`wrangler pages deploy` CLI çš„é™åˆ¶**

ä½¿ç”¨ `wrangler pages deploy` æ‰‹åŠ¨éƒ¨ç½²æ—¶ï¼š
- âŒ å¯èƒ½æ²¡æœ‰æ­£ç¡®ç»‘å®š `ASSETS` ç¯å¢ƒå˜é‡
- âŒ å¯èƒ½æ²¡æœ‰æ­£ç¡®è¯†åˆ« `_worker.js` çš„é…ç½®
- âŒ é™æ€èµ„æºå¯èƒ½æ²¡æœ‰è¢«æ­£ç¡®éƒ¨ç½²

### 2. **`_worker.js` åœ¨ Cloudflare Pages Advanced Mode ä¸­çš„è¡Œä¸º**

å½“ `_worker.js` å­˜åœ¨æ—¶ï¼š
- âœ… å®ƒä¼šå®Œå…¨è¦†ç›–é»˜è®¤çš„è·¯ç”±è¡Œä¸º
- âš ï¸ å¦‚æœ `_worker.js` æ²¡æœ‰æ­£ç¡®å¤„ç†é™æ€èµ„æºï¼Œå°±ä¼šå¯¼è‡´ 404
- âš ï¸ `env.ASSETS` å¿…é¡»æ­£ç¡®ç»‘å®šæ‰èƒ½è®¿é—®é™æ€æ–‡ä»¶

### 3. **Git é›†æˆ vs æ‰‹åŠ¨éƒ¨ç½²çš„åŒºåˆ«**

**æˆåŠŸçš„éƒ¨ç½²ï¼ˆ`c04ebc5d`ï¼‰**ï¼š
- ç±»å‹ï¼š`github:push`
- æ–¹å¼ï¼šCloudflare Pages Git é›†æˆè‡ªåŠ¨éƒ¨ç½²
- âœ… Cloudflare Pages è‡ªåŠ¨å¤„ç† `_worker.js` å’Œ `ASSETS` ç»‘å®š

**å¤±è´¥çš„éƒ¨ç½²ï¼ˆ`ad_hoc` ç±»å‹ï¼‰**ï¼š
- ç±»å‹ï¼š`ad_hoc`
- æ–¹å¼ï¼š`wrangler pages deploy` æ‰‹åŠ¨éƒ¨ç½²
- âŒ å¯èƒ½ç¼ºå°‘æ­£ç¡®çš„ `ASSETS` ç»‘å®š

## è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1ï¼šä½¿ç”¨ `cloudflare/pages-action`ï¼ˆæ¨èï¼‰

`cloudflare/pages-action` æ˜¯ä¸“é—¨ä¸º Cloudflare Pages è®¾è®¡çš„ GitHub Actionï¼Œå®ƒä¼šï¼š
- âœ… æ­£ç¡®å¤„ç† `_worker.js`
- âœ… æ­£ç¡®ç»‘å®š `ASSETS` ç¯å¢ƒå˜é‡
- âœ… æ­£ç¡®å¤„ç†é™æ€èµ„æº

### æ–¹æ¡ˆ 2ï¼šä¿®å¤ `wrangler pages deploy` é…ç½®

å¦‚æœå¿…é¡»ä½¿ç”¨ `wrangler pages deploy`ï¼Œéœ€è¦ï¼š
1. ç¡®ä¿ `wrangler.toml` åœ¨ `.open-next` ç›®å½•ä¸­ï¼ˆâœ… å·²ä¿®å¤ï¼‰
2. ç¡®ä¿ `_worker.js` æ­£ç¡®å¤„ç†é™æ€èµ„æºï¼ˆéœ€è¦æ£€æŸ¥ï¼‰
3. å¯èƒ½éœ€è¦é¢å¤–çš„é…ç½®æ¥ç»‘å®š `ASSETS`

## å½“å‰çŠ¶æ€

- âœ… `wrangler.toml` å·²å¤åˆ¶åˆ° `.open-next`
- âœ… `_worker.js` å·²æ­£ç¡®ç”Ÿæˆ
- âœ… é™æ€èµ„æºå·²ç§»åŠ¨åˆ°æ­£ç¡®ä½ç½®
- âš ï¸ ä½¿ç”¨ `cloudflare/pages-action` æ›¿ä»£ `wrangler pages deploy`

## éªŒè¯æ­¥éª¤

1. æ£€æŸ¥ GitHub Actions è¿è¡ŒçŠ¶æ€
2. æ£€æŸ¥ Cloudflare Pages éƒ¨ç½²çŠ¶æ€
3. è®¿é—®é¢„è§ˆ URL éªŒè¯æ˜¯å¦æ­£å¸¸å·¥ä½œ

## ç»“è®º

**é—®é¢˜ä¸æ˜¯å‰åç«¯æ•°æ®å¯¹é½é—®é¢˜ï¼Œè€Œæ˜¯éƒ¨ç½²æ–¹å¼çš„é—®é¢˜ã€‚**

- âœ… å‰ç«¯é…ç½®æ˜¯æ­£ç¡®çš„
- âœ… åç«¯ API é…ç½®æ˜¯æ­£ç¡®çš„
- âŒ é—®é¢˜åœ¨äº `wrangler pages deploy` CLI æ²¡æœ‰æ­£ç¡®å¤„ç† Cloudflare Pages çš„ç‰¹æ®Šé…ç½®

**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ `cloudflare/pages-action` æ›¿ä»£ `wrangler pages deploy`ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿ Cloudflare Pages çš„ç‰¹æ®Šé…ç½®ï¼ˆå¦‚ `ASSETS` ç»‘å®šï¼‰è¢«æ­£ç¡®å¤„ç†ã€‚
